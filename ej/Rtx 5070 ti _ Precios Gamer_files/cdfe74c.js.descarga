(window.webpackJsonp=window.webpackJsonp||[]).push([[60,19,35,36],{1014:function(e,t,n){var content=n(1043);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(46).default)("4e3e3f14",content,!0,{sourceMap:!1})},1022:function(e,t,n){var content=n(1063);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(46).default)("0c7fc571",content,!0,{sourceMap:!1})},1023:function(e,t,n){var content=n(1065);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(46).default)("640ecf66",content,!0,{sourceMap:!1})},1042:function(e,t,n){"use strict";n(1014)},1043:function(e,t,n){var r=n(45)(!1);r.push([e.i,"@keyframes loadingLine-0951523c{0%{left:-450px}to{left:calc(100% + 450px)}}.br-10[data-v-0951523c]{border-radius:10px!important}.mb-15[data-v-0951523c]{margin-bottom:15px}.wrapper-label[data-v-0951523c]{position:relative}.wrapper-label .absolute-label[data-v-0951523c]{position:absolute;top:-15px;color:#923da7;font-size:11px}",""]),e.exports=r},1051:function(e,t,n){"use strict";n.r(t);var r={name:"FloatLabel",props:{labelFor:{type:String,required:!0},label:{type:String,required:!0}}},o=(n(1042),n(23)),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper-label"},[t("label",{staticClass:"absolute-label",attrs:{for:e.labelFor}},[e._v(" "+e._s(e.label)+" ")]),e._v(" "),e._t("default")],2)}),[],!1,null,"0951523c",null);t.default=component.exports},1061:function(e,t,n){var content=n(1148);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(46).default)("2cf74f53",content,!0,{sourceMap:!1})},1062:function(e,t,n){"use strict";n(1022)},1063:function(e,t,n){var r=n(45)(!1);r.push([e.i,"@keyframes loadingLine{0%{left:-450px}to{left:calc(100% + 450px)}}.br-10{border-radius:10px!important}.mb-15{margin-bottom:15px}.ui-file-uploader .url.form-group input{font-size:11px}",""]),e.exports=r},1064:function(e,t,n){"use strict";n(1023)},1065:function(e,t,n){var r=n(45)(!1);r.push([e.i,"@keyframes loadingLine{0%{left:-450px}to{left:calc(100% + 450px)}}.br-10{border-radius:10px!important}.mb-15{margin-bottom:15px}.ui-file-uploader{display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:5px;width:175px;height:190px;margin:7.5px;position:relative;background-color:#fff;padding:0 7.5px}.ui-file-uploader .actions,.ui-file-uploader .src{width:160px;height:100px;display:flex;justify-content:center;align-items:center}.ui-file-uploader .src{margin-bottom:5px;position:relative;background-color:#fff}.ui-file-uploader .src img{-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center;position:absolute;width:calc(100% - 15px);height:calc(100% - 15px)}.ui-file-uploader .actions{position:absolute;top:25px;left:0;right:0;margin:0 auto;cursor:move;cursor:grab;cursor:-webkit-grab}.ui-file-uploader .actions button{cursor:pointer;display:flex;justify-content:center;align-items:center;width:30px;height:30px;background-color:rgba(40,40,40,.5);border:2px solid #fff;color:#fff;margin:3.75px;border-radius:500%}",""]),e.exports=r},1123:function(e,t,n){"use strict";n.r(t);n(71);var r=n(14),o=n.n(r),input=n(108),l={components:{AInput:n.n(input).a,AIcon:o.a},props:{file:{type:Object,required:!0},options:{type:Object,required:!0}},data:function(){return{newFile:this.file}},computed:{STATIC_BASE_URL:function(){return"https://static.preciosgamer.com/"}}},c=(n(1062),n(1064),n(23)),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui-file-uploader"},[t("span",{staticClass:"src"},[t("img",{attrs:{src:"".concat(e.STATIC_BASE_URL,"img/").concat(e.newFile.image)}})]),e._v(" "),t("FloatLabel",{attrs:{"label-for":"url",label:"Link de acceso"}},[t("AInput",{ref:"url",attrs:{id:"url",type:"text",name:"url"},on:{focus:function(e){return e.target.select()}},model:{value:e.newFile.url,callback:function(t){e.$set(e.newFile,"url",t)},expression:"newFile.url"}})],1),e._v(" "),void 0!==e.options.toComplete&&e.options.toComplete||void 0!==e.options.remove&&e.options.remove?t("span",{staticClass:"actions"},[null!=e.options.toComplete&&e.options.toComplete?t("button",{attrs:{type:"button"},on:{click:!1}},[t("AIcon",{attrs:{type:"plus"}})],1):e._e(),e._v(" "),null!=e.options.remove&&e.options.remove?t("button",{attrs:{type:"button"},on:{click:function(t){return e.$emit("remove-file",e.newFile)}}},[t("AIcon",{attrs:{type:"delete"}})],1):e._e()]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{FloatLabel:n(1051).default})},1147:function(e,t,n){"use strict";n(1061)},1148:function(e,t,n){var r=n(45)(!1);r.push([e.i,"@keyframes loadingLine{0%{left:-450px}to{left:calc(100% + 450px)}}.br-10{border-radius:10px!important}.mb-15{margin-bottom:15px}.ui-galeria-uploader .content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;flex-direction:column}.ui-galeria-uploader .content .draggable{border-radius:5px;background-color:#fff;text-align:left;padding:0;width:100%;max-height:600px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:inherit}@media (max-width:1024px){.ui-galeria-uploader .content .draggable{width:calc(100% - 350px)}}@media (max-width:767px){.ui-galeria-uploader .content .draggable{width:100%}}.ui-galeria-uploader .content .draggable.draggable-full{width:100%}.ui-galeria-uploader .content .dropzone{display:flex;justify-content:center;align-items:center;flex-direction:column;box-shadow:none;width:100%;height:200px;overflow:auto;background-color:#fff;color:#69737a;border:2px dashed #923da7;border-radius:5px;font-size:12px}@media (max-width:1024px){.ui-galeria-uploader .content .dropzone{width:350px}}@media (max-width:767px){.ui-galeria-uploader .content .dropzone{width:250px}}@media (max-width:550px){.ui-galeria-uploader .content .dropzone{width:100%;height:350px}}.ui-galeria-uploader .content .dropzone .dz-message span{display:flex;justify-content:center;flex-direction:column;align-items:center}.ui-galeria-uploader .content .dropzone svg{height:72px;width:72px;color:rgba(146,61,167,.5);display:block;fill:rgba(146,61,167,.5)}@media (max-width:550px){.ui-galeria-uploader .content .dropzone svg{height:30px;width:30px}}.ui-galeria-uploader .content .dropzone .dz-image{background-color:#000!important;display:flex!important;justify-content:center!important;align-items:center!important}.ui-galeria-uploader .content .dropzone .dz-size{margin:0!important}.ui-galeria-uploader .content .dropzone .dz-preview{min-height:200px!important}.ui-galeria-uploader .content .dropzone .dz-error-mark,.ui-galeria-uploader .content .dropzone .dz-progress,.ui-galeria-uploader .content .dropzone .dz-success-mark{top:75px!important}.ui-galeria-uploader .content .dropzone .dz-error-mark svg,.ui-galeria-uploader .content .dropzone .dz-success-mark svg{height:45px;width:45px}@media (max-width:550px){.ui-galeria-uploader .content .dropzone .dz-error-mark svg,.ui-galeria-uploader .content .dropzone .dz-success-mark svg{height:25px;width:25px}}.ui-galeria-uploader .content .dropzone .dz-error-message{border:none!important;border-radius:0!important;background:rgba(252,30,32,.5)!important;bottom:0!important;line-height:12px!important;margin:0!important;padding:2px 0!important;top:calc(100% - 30px)!important}.ui-galeria-uploader .content .dropzone .dz-remove{margin:0!important;bottom:40px!important;padding:3px;left:calc(50% - 50px)!important;width:100px!important}.ui-galeria-uploader .message{display:block;width:100%;font-size:12px;color:#69737a;margin-top:7.5px}",""]),e.exports=r},1216:function(e,t,n){var content=n(1323);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(46).default)("bdc937c6",content,!0,{sourceMap:!1})},1248:function(e,t,n){"use strict";n.r(t);n(37),n(27),n(64);var r=n(1217),o={components:{Draggable:n.n(r).a},props:{files:{type:Array,default:function(){return[]}},options:{type:Object,required:!0},bannerType:{type:String,required:!0}},data:function(){var e=this;return{currentFile:null,currentDoneFile:null,newOrderFiles:this.files,dropzoneOptions:{url:"".concat("https://api.preciosgamer.com/v1","/cms/banner/upload"),addRemoveLinks:!0,thumbnailWidth:290,thumbnailMethod:"contain",parallelUploads:1,resizeQuality:1,maxFilesize:15,maxFiles:10,resizeWidth:1080,resizeHeight:1080,resizeMethod:"contain",resizeMimeType:"image/jpeg",acceptedFiles:"image/*",paramName:"image",capture:"image/*",headers:{"Cache-Control":null,"X-Requested-With":null,Authorization:this.$auth.strategy.token.get()},dictDefaultMessage:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">\x3c!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M144 480C64.47 480 0 415.5 0 336C0 273.2 40.17 219.8 96.2 200.1C96.07 197.4 96 194.7 96 192C96 103.6 167.6 32 256 32C315.3 32 367 64.25 394.7 112.2C409.9 101.1 428.3 96 448 96C501 96 544 138.1 544 192C544 204.2 541.7 215.8 537.6 226.6C596 238.4 640 290.1 640 352C640 422.7 582.7 480 512 480H144zM223 263C213.7 272.4 213.7 287.6 223 296.1C232.4 306.3 247.6 306.3 256.1 296.1L296 257.9V392C296 405.3 306.7 416 320 416C333.3 416 344 405.3 344 392V257.9L383 296.1C392.4 306.3 407.6 306.3 416.1 296.1C426.3 287.6 426.3 272.4 416.1 263L336.1 183C327.6 173.7 312.4 173.7 303 183L223 263z"/></svg> <br/> Haz click o arrastre los archivos aquí <br/> (tamaño máximo: 15MB)',dictFileTooBig:"El archivo es demasiado grande ({{filesize}}MB). Tamañó máximo: {{maxFilesize}}MB",dictCancelUploadConfirmation:"¿Está seguro de que desea cancelar la carga actual?",dictCancelUpload:"Cancelar",dictRemoveFile:"Eliminar",transformFile:function(t,n){if(e.options.resize){e.currentFile=t,e.currentDoneFile=n;var r=new FileReader;r.readAsDataURL(t),r.onload=function(t){var img=new Image;img.src=t.target.result,img.onload=function(){var canvas=document.createElement("canvas"),t=canvas.getContext("2d"),n=1920,r=1080,o=img.width,l=img.height;t.drawImage(img,0,0),o>l?o>n&&(l*=n/o,o=n):l>r&&(o*=r/l,l=r),canvas.width=o,canvas.height=l,(t=canvas.getContext("2d")).drawImage(img,0,0,o,l),t.canvas.toBlob((function(t){e.currentFile=new File([t],e.currentFile.name,{type:"image/jpeg",lastModified:Date.now()}),e.currentDoneFile(e.currentFile)}),"image/jpeg",1)}}}else n(t)}}}},watch:{files:function(e){this.newOrderFiles=e},newOrderFiles:function(e){this.$emit("update-files-order",e)}},methods:{addError:function(e){var t=e.xhr.response?e.xhr.response.replace(/"/g,""):"No se pudo subir el archivo, intente más tarde";this.$messageAlert.error(t)},addSuccess:function(e){var t=JSON.parse(e.xhr.response);t.url="",t.image=t.filename,delete t.filename,t.type=this.bannerType,this.$emit("add-file",t),this.$refs.dropzone.removeFile(e),this.$messageAlert.success("El archivo se subió correctamente")}}},l=(n(1147),n(23)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui-galeria-uploader"},[t("div",{staticClass:"content"},[null!=e.options.add&&e.options.add?t("dropzone",{ref:"dropzone",staticClass:"dropzone scroll",attrs:{id:"dropzone",options:e.dropzoneOptions},on:{"vdropzone-error":e.addError,"vdropzone-success":e.addSuccess}}):e._e(),e._v(" "),t("Draggable",{class:{draggable:!0,"draggable-full":null!=e.options.add&&!e.options.add},attrs:{disabled:null!=e.options.order&&!e.options.order},model:{value:e.newOrderFiles,callback:function(t){e.newOrderFiles=t},expression:"newOrderFiles"}},e._l(e.files,(function(n,r){return t("UIFileUploader",{key:"file-".concat(r),attrs:{file:n,options:e.options},on:{"remove-file":function(t){return e.$emit("remove-file",t)}}})})),1)],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{UIFileUploader:n(1123).default})},1322:function(e,t,n){"use strict";n(1216)},1323:function(e,t,n){var r=n(45)(!1);r.push([e.i,"@keyframes loadingLine-324eb7de{0%{left:-450px}to{left:calc(100% + 450px)}}.br-10[data-v-324eb7de]{border-radius:10px!important}.mb-15[data-v-324eb7de]{margin-bottom:15px}.banners[data-v-324eb7de]{width:100%}.banners h1[data-v-324eb7de]{margin-bottom:0}.banners .wrapper-title[data-v-324eb7de]{width:100%;padding:11.5px 15px 7.5px;margin-bottom:15px}.banners .wrapper-title[data-v-324eb7de],.banners .wrapper-title .actions[data-v-324eb7de]{display:flex;justify-content:space-between;align-items:center}.banners .wrapper-title .actions button[data-v-324eb7de]{padding:1px 7.5px;font-size:14px;margin-left:10px}.banners .wrapper-title .actions .select-filtro[data-v-324eb7de]{width:180px}",""]),e.exports=r},1395:function(e,t,n){"use strict";n.r(t);n(35),n(82);var r=n(6),o=n(56),l=n.n(o),c=n(176),d=n.n(c),f=(n(17),n(34),n(549),n(41),{name:"BannersPage",components:{ASelect:d.a,ASelectOption:d.a.Option,AButton:l.a},layout:"sideBar",middleware:"auth",asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,r=[],o=[],console.log("app",n),t.next=6,n.$api.banners.getZoneBanners().then((function(e){o=e})).catch((function(e){return console.error(e)}));case 6:return t.next=8,n.$api.banners.getBannersByZone(1).then((function(e){r=e})).catch((function(e){return console.error(e)}));case 8:return t.abrupt("return",{banners:r,bannersZones:o});case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{bannerType:"1",bannerKey:0}},methods:{addBanner:function(e){this.banners.push(e)},deleteBanner:function(e){var t=null;this.banners.forEach((function(n,r){n.filename===e.filename&&(t=r)})),this.banners.splice(t,1)},updateBannersOrder:function(e){this.banners=e,this.bannerKey+=1},updateBanners:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={type:e.bannerType,img:[]},e.banners.forEach((function(e){n.img.push({filename:e.filename,url:e.url})})),t.next=4,e.$api.banners.setBanners(e.bannerType,e.banners);case 4:return t.next=6,e.$api.banners.getBannersByZone(e.bannerType).then((function(t){e.banners=t})).catch((function(e){return console.error(e)}));case 6:case"end":return t.stop()}}),t)})))()}}}),m=f,x=(n(1322),n(23)),component=Object(x.a)(m,(function(){var e=this,t=e._self._c;return t("div",{key:e.bannerKey,staticClass:"banners"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.updateBanners()}}},[t("div",{staticClass:"wrapper-title"},[t("h1",[e._v("Banners")]),e._v(" "),t("div",{staticClass:"actions"},[t("FloatLabel",{attrs:{"label-for":"bannerType",label:"Tipo de banner"}},[t("ASelect",{staticStyle:{width:"200px"},attrs:{id:"bannerType"},model:{value:e.bannerType,callback:function(t){e.bannerType=t},expression:"bannerType"}},e._l(e.bannersZones,(function(n){return t("a-select-option",{key:"zone-".concat(n.id),attrs:{value:n.id}},[e._v("\n              "+e._s(n.description)+"\n            ")])})),1)],1),e._v(" "),t("AButton",{attrs:{"html-type":"submit",type:"primary"}},[e._v("Guardar")])],1)]),e._v(" "),t("div",{staticClass:"form-group"},[t("ClientOnly",[t("UIGaleryUploader",{attrs:{files:e.banners,options:{add:!0,order:!0,remove:!0,resize:!0},"banner-type":e.bannerType},on:{"add-file":function(t){return e.addBanner(t)},"remove-file":function(t){return e.deleteBanner(t)},"update-files-order":function(t){return e.updateBannersOrder(t)}}}),e._v(" "),0===e.banners.length?t("span",{staticClass:"message error"},[e._v("\n          Debes subir al menos un banner\n        ")]):e._e()],1)],1)])])}),[],!1,null,"324eb7de",null);t.default=component.exports;installComponents(component,{FloatLabel:n(1051).default,UIGaleryUploader:n(1248).default})}}]);